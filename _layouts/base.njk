<!DOCTYPE html>
<html class="light" lang="{{ metadata.language }}">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	{%- set metaTitle %}{{ title or metadata.title }}{% endset %}
	{%- set metaDesc %}{{ description or metadata.description }}{% endset %}

	<title>{{ metaTitle }}</title>
	<meta name="description" content="{{ metaDesc }}" />

	<meta name="generator" content="{{ eleventy.generator }}" />

	<!-- Favicon -->
	<link rel="icon" href="{{ '/favicon.svg' | url }}" type="image/svg+xml" />
	<link rel="apple-touch-icon" sizes="180x180" href="{{ '/apple-touch-icon.png' | url }}" />
	<link rel="icon" type="image/png" href="{{ '/favicon-64x64.png' | url }}" sizes="64x64" />
	<link rel="icon" type="image/png" href="{{ '/favicon-32x32.png' | url }}" sizes="32x32" />
	<link rel="icon" type="image/png" href="{{ '/favicon-16x16.png' | url }}" sizes="16x16" />

	<!-- Open Graph / Facebook -->
	<meta property="og:locale" content="{{ metadata.locale }}" />
	<meta property="og:site_name" content="{{ metadata.title }}" />

  <meta property="og:type" content="{{ "article" if isPost else "website" }}" />
	<meta property="og:title" content="{{ metaTitle }}" />
  <meta property="og:description" content="{{ metaDesc }}" />
  <meta property="og:url" content="{{ page.url | htmlBaseUrl(metadata.url) }}" />

	<meta property="og:image" content="{{ metadata.opengraphDefault.image }}" />
	<meta property="og:image:width" content="{{ metadata.opengraphDefault.width }}">
	<meta property="og:image:height" content="{{ metadata.opengraphDefault.height }}">
	<meta property="og:image:alt" content="{{ metadata.opengraphDefault.alt }}">

	{# TODO: Add twitter meta tags #}

	<!-- Resources -->
	{#- Atom and JSON feeds included by default #}
	<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="{{ metadata.title }}">
	<link rel="alternate" href="/feed/feed.json" type="application/json" title="{{ metadata.title }}">

	{# TODO: Download these fonts locally and keep only latin and latin_ext #}
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;0,700;1,400&family=Sora:wght@300;400;500;600;700&display=swap" rel="stylesheet">

	{%- css %}{% include "public/css/reset.css" %}{% endcss %}
	{%- css %}{% include "public/css/base.css" %}{% endcss %}
	{%- css %}{% include "public/css/post.css" %}{% endcss %}
	{%- css %}{% include "public/css/card-link.css" %}{% endcss %}

	<style>{% getBundle "css" %}</style>
</head>

<body>
	<a href="#skip" class="visually-hidden">Skip to main content</a>

	<header>
		{% renderTemplate "webc" %}
			<navbar webc:nokeep></navbar>
		{% endrenderTemplate %}
	</header>

	<main class="text-container" id="skip">
		{{ content | safe }}
	</main>

	<aside>
		{% renderTemplate "webc" %}
			<back-to-top class="margin"></back-to-top>
		{% endrenderTemplate %}
	</aside>

	<footer>
		{% renderTemplate "webc" %}
			<newsletter-banner webc:nokeep></newsletter-banner>
		{% endrenderTemplate %}
		{% include 'footer.njk' %}
	</footer>
</body>

</html>

<script>{% getBundle "js" %}</script>
